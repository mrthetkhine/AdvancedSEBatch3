<html>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ramda/0.28.0/ramda.js"></script>
    <script>
        /*
        let counter = 1;
        counter ++;
        */
       const Container = (value)=>({
            value,
            map(fn)
            {
                return Container.of(fn(value));
            }
       });
       Container.of = Container;
       console.log('Container ', Container.of(10));
       console.log('Container ', Container.of({ name : 'TK', age : 38}));

       const inc = (x) => x+1;
       const double = (x) => x * 2;

       const identity = (x)=>x;

       //Rule 1
       const data = 20;
       let result = Container.of(data).map(identity).value;
       console.log('Rule 1 ', data== result);

       const pipe = (funA,funB)=>x => funB(funA(x));

       /*
       map(inc(double(x)))
       map(inc)
       map(double)
       */
       const newFun = pipe(inc,double);
       result = Container.of(1)
                             .map(inc)
                             .map(double);
       let result2 = Container.of(1)
                              .map(newFun);
        console.log('Rule2 ', result.value == result2.value); 
    </script>
</html>
